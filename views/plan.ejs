<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your <%= days %>-Day <%= city %> Travel Plan | Smart Travel Planner</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>✨ Your <%= days %>-Day Adventure in <%= city %></h1>
            <p>Your personalized travel itinerary is ready! Get excited for an unforgettable journey.</p>
        </div>

        <div class="plan-card">
            <% if (usingMockData) { %>
                <div class="mock-notice">
                    <strong>🌟 Demo Mode:</strong> This is a sample travel plan. For AI-generated personalized plans with real-time recommendations, please check your API configuration.
                </div>
            <% } else { %>
                <div class="mock-notice" style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-color: #10b981; color: #065f46; border-left-color: #10b981;">
                    <strong>✅ AI-Powered Plan:</strong> This itinerary was generated using AI based on your preferences!
                </div>
            <% } %>

            <!-- Days Itinerary -->
            <div class="section">
                <h2>📅 Your <%= days %>-Day Itinerary</h2>
                <% plan.days.forEach(day => { %>
                    <div class="day-plan">
                        <h3>Day <%= day.day %> - <%= day.day === 1 ? 'Arrival & Exploration' : day.day == days ? 'Final Memories' : 'Full Adventure' %></h3>
                        <ul class="activities">
                            <% day.activities.forEach(activity => { %>
                                <li><%= activity %></li>
                            <% }) %>
                        </ul>
                    </div>
                <% }) %>
            </div>

            <!-- Travel Tips -->
            <div class="section">
                <h2>💡 Pro Travel Tips</h2>
                <ul class="tips-list">
                    <% plan.tips.forEach(tip => { %>
                        <li><%= tip %></li>
                    <% }) %>
                </ul>
            </div>

            <!-- Packing List -->
            <div class="section">
                <h2>🎒 Essential Packing List</h2>
                <ul class="packing-list">
                    <% plan.packing.forEach(item => { %>
                        <li><%= item %></li>
                    <% }) %>
                </ul>
            </div>

            <!-- Destination Images -->
            <div class="section">
                <h2>📸 <%= city %> Inspiration</h2>
                <p style="text-align: center; color: var(--gray); margin-bottom: 20px;">Get excited for your trip with these stunning views of <%= city %>!</p>
                <div class="images-grid">
                    <% images.forEach((image, index) => { %>
                        <div class="image-item">
                            <img src="<%= image %>" alt="Beautiful view of <%= city %> - Image <%= index + 1 %>" loading="lazy">
                        </div>
                    <% }) %>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions">
                <a href="/" class="btn">
                    <span>🔄 Plan Another Trip</span>
                </a>
                <button onclick="window.print()" class="btn" style="background: var(--gradient-dark); margin-left: 15px;">
                    <span>🖨️ Print Itinerary</span>
                </button>
            </div>
        </div>
    </div>

    <script src="/js/scripts.js"></script>
    <script>
        // Add print functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Add image click to view larger
            document.querySelectorAll('.image-item').forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('expanded');
                });
            });
            
            // Show success message
            setTimeout(() => {
                if (typeof TravelPlanner !== 'undefined') {
                    TravelPlanner.showToast('🎉 Your travel plan is ready! Happy travels!', 'success');
                }
            }, 1000);
        });
    </script>
</body>
</html>